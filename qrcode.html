<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BATC QR Code Widget</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div class="widget-window qr-window-size">
        <div class="widget-header">
            <span id="widget-title">STATION REPOSITORY</span>
        </div>
        <div id="qr-wrapper">
            <div id="qrcode"></div>
            <div id="string-display"></div>
        </div>
    </div>

    <script>
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i=0; i<vars.length; i++) {
                var pair = vars[i].split("=");
                if(pair[0] == variable){ return decodeURIComponent(pair[1]); }
            }
            return(false);
        }

        // Usage: qrcode.html?data=URL_HERE or falls back to your repo
        var inputData = getQueryVariable("data") || "https://github.com/gregoryfenton/Amateur-TV-Snippets";
        document.getElementById("string-display").innerText = inputData;

        new QRCode(document.getElementById("qrcode"), {
            text: inputData,
            width: 200,
            height: 200,
            colorDark : "#000000",
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });
    </script>
</body>
</html>
